# O3 Deep Research with Bing Search

ä½¿ç”¨ Azure OpenAI çš„ O3 Deep Research æ¨¡å‹é€²è¡Œ Web Search èˆ‡åˆ†æçš„äº’å‹•å¼æ‡‰ç”¨ç¨‹å¼ã€‚

## ğŸ“‹ å°ˆæ¡ˆç°¡ä»‹

æœ¬å°ˆæ¡ˆæä¾›ä¸€å€‹äº’å‹•å¼ Command Line Interfaceï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ é€é Azure OpenAI çš„ O3 Deep Research æ¨¡å‹é€²è¡Œ Deep Researchã€‚ç³»çµ±æ•´åˆ Bing Search èˆ‡ Code Interpreterï¼Œèƒ½å¤ é‡å°ä½¿ç”¨è€…æå‡ºçš„ç ”ç©¶ä¸»é¡Œé€²è¡Œå…¨é¢æ€§çš„è³‡æ–™æ”¶é›†ã€åˆ†æèˆ‡å ±å‘Šç”¢å‡ºã€‚

### ä¸»è¦åŠŸèƒ½

- ğŸ” **æ™ºæ…§ç ”ç©¶è¦åŠƒ**ï¼šè‡ªå‹•ç”¢ç”Ÿç ”ç©¶è¨ˆç•«èˆ‡æœå°‹é—œéµå­—æ¸…å–®
- ğŸ”„ **äº’å‹•å¼èª¿æ•´**ï¼šæ”¯æ´ä½¿ç”¨è€…å›é¥‹ä¸¦è¿­ä»£ä¿®æ”¹ç ”ç©¶è¨ˆç•«
- ğŸŒ **Web Search æ•´åˆ**ï¼šé€é Bing Search Preview åŠŸèƒ½å–å¾—æœ€æ–°è³‡è¨Š
- ğŸ’» **Code Interpreter**ï¼šæ”¯æ´è³‡æ–™åˆ†æèˆ‡è¦–è¦ºåŒ–
- ğŸ“ **è‡ªå‹•å ±å‘Šç”¢å‡º**ï¼šå°‡ç ”ç©¶çµæœå„²å­˜ç‚ºçµæ§‹åŒ– Markdown æª”æ¡ˆ
- ğŸ“Š **Session ç®¡ç†**ï¼šè¨˜éŒ„å®Œæ•´ç ”ç©¶æ­·ç¨‹ï¼Œæ”¯æ´å¤šè¼ªç ”ç©¶

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
o3-deep-research-with-bing-search/
â”‚
â”œâ”€â”€ main.py                          # ä¸»ç¨‹å¼ï¼šSDK ç‰ˆæœ¬äº’å‹•å¼æ‡‰ç”¨ç¨‹å¼
â”œâ”€â”€ main_rest_api.py                 # REST API ç‰ˆæœ¬äº’å‹•å¼æ‡‰ç”¨ç¨‹å¼
â”œâ”€â”€ pyproject.toml                   # Python å°ˆæ¡ˆé…ç½®æª”æ¡ˆ
â”œâ”€â”€ uv.lock                          # UV å¥—ä»¶ç®¡ç†é–å®šæª”æ¡ˆ
â”œâ”€â”€ .env                             # ç’°å¢ƒè®Šæ•¸é…ç½®ï¼ˆåŒ…å« Azure OpenAI é‡‘é‘°ï¼‰
â”œâ”€â”€ output/                          # ç ”ç©¶çµæœè¼¸å‡ºè³‡æ–™å¤¾
â”œâ”€â”€ logs/                            # API æ—¥èªŒè³‡æ–™å¤¾ï¼ˆREST API ç‰ˆæœ¬å°ˆç”¨ï¼‰
â”œâ”€â”€ .venv/                           # Python Virtual Environmentï¼ˆç”± UV å»ºç«‹ï¼‰
â”œâ”€â”€ squence_diagram/                 # ç³»çµ±æ¶æ§‹èˆ‡æµç¨‹åœ–
â”‚   â”œâ”€â”€ o3-deep-research-web-search-sequence.md    # Sequence Diagram (Markdown æ ¼å¼)
â”‚   â””â”€â”€ o3-deep-research-web-search-sequence.html  # Sequence Diagram (HTML é›¢ç·šç‰ˆ)
â”‚
â””â”€â”€ o3_deep_research_with_bing_search.egg-info/  # å¥—ä»¶è³‡è¨Šï¼ˆè‡ªå‹•ç”¢ç”Ÿï¼‰
```

## ğŸ” ç³»çµ±é‹ä½œé‚è¼¯

å¦‚æœæ‚¨æƒ³æ·±å…¥äº†è§£ O3 Deep Research èˆ‡ Web Search çš„å®Œæ•´äº’å‹•æµç¨‹ï¼Œè«‹åƒè€ƒï¼š

ğŸ“Š **Sequence Diagramï¼ˆäº’å‹•æµç¨‹åœ–ï¼‰**ï¼š
- ç·šä¸Šç€è¦½ï¼š[o3-deep-research-web-search-sequence.md](squence_diagram/o3-deep-research-web-search-sequence.md)
- é›¢ç·šè§€çœ‹ï¼šä¸‹è¼‰ [o3-deep-research-web-search-sequence.html](squence_diagram/o3-deep-research-web-search-sequence.html) ä¸¦ç”¨ç€è¦½å™¨é–‹å•Ÿ

Sequence Diagram è©³ç´°èªªæ˜äº†ï¼š
- ä½¿ç”¨è€…ã€Python æ‡‰ç”¨ç¨‹å¼ã€Azure OpenAI API èˆ‡ Bing Search ä¹‹é–“çš„äº’å‹•æµç¨‹
- å¤šæ­¥é©Ÿæ¨ç†å¾ªç’°çš„å®Œæ•´éç¨‹
- Web Search å‘¼å«æ©Ÿåˆ¶ï¼ˆsearchã€open_pageã€find_in_pageï¼‰
- èƒŒæ™¯æ¨¡å¼åŸ·è¡Œèˆ‡ç‹€æ…‹æŸ¥è©¢æ©Ÿåˆ¶
- Response çµæ§‹èˆ‡å¼•ç”¨æ¨™è¨»è™•ç†
- æœ€ä½³å¯¦è¸èˆ‡æˆæœ¬æ§åˆ¶å»ºè­°

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- [UV](https://github.com/astral-sh/uv) å¥—ä»¶ç®¡ç†å·¥å…·
- Azure OpenAI æœå‹™å¸³è™Ÿèˆ‡ API Key

### å®‰è£æ­¥é©Ÿ

1. **Clone å°ˆæ¡ˆ**
   ```bash
   git clone https://github.com/ownway22/o3-deep-research-with-bing-search
   cd o3-deep-research-with-bing-search
   ```

2. **è¨­å®šç’°å¢ƒè®Šæ•¸**
   
   ç·¨è¼¯ `.env` æª”æ¡ˆï¼Œå¡«å…¥æ‚¨çš„ Azure OpenAI è³‡è¨Šï¼š
   ```env
   AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com
   AZURE_OPENAI_API_KEY=your_api_key_here
   ```

3. **å»ºç«‹è™›æ“¬ç’°å¢ƒä¸¦å®‰è£ç›¸ä¾å¥—ä»¶**
   ```bash
   uv sync
   ```

### åŸ·è¡Œæ‡‰ç”¨ç¨‹å¼

**Python SDK ç‰ˆæœ¬**ï¼š
```bash
uv run python main.py
```

**REST API ç‰ˆæœ¬**ï¼š
```bash
uv run python main_rest_api.py
```

## ğŸ”„ Python SDK vs REST API ç‰ˆæœ¬æ¯”è¼ƒ

æœ¬å°ˆæ¡ˆæä¾›å…©ç¨®å¯¦ä½œæ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ“šéœ€æ±‚é¸æ“‡é©åˆçš„ç‰ˆæœ¬ï¼š

### ç‰ˆæœ¬å·®ç•°å°ç…§è¡¨

| ç‰¹æ€§ | SDK ç‰ˆæœ¬ ([main.py](main.py)) | REST API ç‰ˆæœ¬ ([main_rest_api.py](main_rest_api.py)) |
|-----|-------------------------------|--------------------------------------------------|
| **ä¾è³´å¥—ä»¶** | `openai` SDK | `requests` |
| **API å‘¼å«æ–¹å¼** | `client.responses.create()` | `requests.post()` + JSON |
| **èƒŒæ™¯æ¨¡å¼æ”¯æ´** | âŒ ä¸æ”¯æ´ | âœ… æ”¯æ´ (é©åˆé•·æ™‚é–“ä»»å‹™) |
| **ç‹€æ…‹æŸ¥è©¢** | âŒ ç„¡ | âœ… å¯æŸ¥è©¢èƒŒæ™¯ä»»å‹™é€²åº¦ |
| **è¶…æ™‚æ§åˆ¶** | SDK é è¨­å€¼ | â±ï¸ 30 åˆ†é˜å¯è‡ªè¨‚ |
| **éŒ¯èª¤è™•ç†** | SDK å…§å»º | æ‰‹å‹•å¯¦ä½œï¼ˆæ›´ç´°ç·»ï¼‰ |
| **å­¸ç¿’æ›²ç·š** | ç°¡å–®æ˜“ç”¨ | éœ€äº†è§£ REST API è¦ç¯„ |
| **é©ç”¨å ´æ™¯** | å¿«é€ŸåŸå‹é–‹ç™¼ã€ç°¡å–®ç ”ç©¶ | é•·æ™‚é–“æ·±åº¦ç ”ç©¶ã€ç”Ÿç”¢ç’°å¢ƒ |

### ä½•æ™‚ä½¿ç”¨ SDK ç‰ˆæœ¬ï¼Ÿ

- âœ… å¿«é€Ÿé–‹å§‹èˆ‡åŸå‹é–‹ç™¼
- âœ… ä¸éœ€è¦èƒŒæ™¯æ¨¡å¼åŸ·è¡Œ
- âœ… åå¥½ç°¡æ½”çš„ç¨‹å¼ç¢¼
- âœ… ç ”ç©¶æ™‚é–“åœ¨ 5 åˆ†é˜ä»¥å…§

### ä½•æ™‚ä½¿ç”¨ REST API ç‰ˆæœ¬ï¼Ÿ

- âœ… éœ€è¦é•·æ™‚é–“åŸ·è¡Œï¼ˆè¶…é 5 åˆ†é˜ï¼‰
- âœ… éœ€è¦èƒŒæ™¯æ¨¡å¼èˆ‡ç‹€æ…‹è¿½è¹¤
- âœ… éœ€è¦ç²¾ç´°æ§åˆ¶è¶…æ™‚æ™‚é–“
- âœ… éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
- âœ… èˆ‡å…¶ä»–ç³»çµ±æ•´åˆï¼ˆWebhookã€éåŒæ­¥è™•ç†ï¼‰

### REST API ç‰ˆæœ¬é¡å¤–åŠŸèƒ½

1. **èƒŒæ™¯æ¨¡å¼åŸ·è¡Œ**
   - é©åˆé•·æ™‚é–“ç ”ç©¶ä»»å‹™ï¼ˆè¶…é 30 åˆ†é˜ï¼‰
   - é¿å… HTTP é€£ç·šè¶…æ™‚å•é¡Œ
   - å¯å®šæœŸæŸ¥è©¢ä»»å‹™é€²åº¦

2. **ç‹€æ…‹æŸ¥è©¢æ©Ÿåˆ¶**
   - å³æ™‚è¿½è¹¤ç ”ç©¶é€²åº¦
   - æŒæ¡ä»»å‹™åŸ·è¡Œç‹€æ…‹ï¼ˆé€²è¡Œä¸­ã€å·²å®Œæˆã€å¤±æ•—ï¼‰
   - é©åˆå»ºç«‹ç›£æ§å„€è¡¨æ¿

3. **è‡ªè¨‚è¶…æ™‚è¨­å®š**
   - é è¨­ 30 åˆ†é˜è¶…æ™‚
   - å¯æ ¹æ“šéœ€æ±‚èª¿æ•´
   - æ›´éˆæ´»çš„éŒ¯èª¤è™•ç†

## ğŸ’¡ ä½¿ç”¨èªªæ˜

### åŸºæœ¬æ“ä½œæµç¨‹ï¼ˆSDK ç‰ˆæœ¬ï¼‰

1. **å•Ÿå‹•ç¨‹å¼**ï¼šåŸ·è¡Œ `uv run python main.py`

2. **è¼¸å…¥ç ”ç©¶ä¸»é¡Œ**ï¼šæ ¹æ“šæç¤ºè¼¸å…¥æ‚¨è¦ç ”ç©¶çš„ä¸»é¡Œ
   ```
   è«‹è¼¸å…¥ç ”ç©¶ä¸»é¡Œ: ç ”ç©¶å¾®è»Ÿ Ignite 2025 åœ¨ AI Agent ç›¸é—œæŠ€è¡“çš„ä¸‰å¤§äº®é»
   ```

3. **å¯©æ ¸ç ”ç©¶è¨ˆç•«**ï¼šç³»çµ±æœƒå…ˆç”¢ç”Ÿç ”ç©¶è¨ˆç•«èˆ‡æœå°‹é—œéµå­—
   - è¼¸å…¥ã€Œç¢ºèªã€æˆ–ã€ŒOKã€ï¼šç¹¼çºŒåŸ·è¡Œ Deep Research
   - è¼¸å…¥ä¿®æ”¹å»ºè­°ï¼šç³»çµ±æœƒæ ¹æ“šå›é¥‹èª¿æ•´è¨ˆç•«ï¼ˆä¾‹å¦‚ï¼šã€Œè«‹å¢åŠ ä¾›æ‡‰éˆé¢¨éšªåˆ†æã€ï¼‰
   - è¼¸å…¥ã€Œå–æ¶ˆã€ï¼šæ”¾æ£„æœ¬æ¬¡ç ”ç©¶

4. **åŸ·è¡Œ Deep Research**ï¼šç³»çµ±æœƒé€²è¡Œ Web Searchã€è³‡æ–™åˆ†æä¸¦ç”¢ç”Ÿå®Œæ•´å ±å‘Š

5. **ç¹¼çºŒæˆ–çµæŸ**ï¼š
   - ç¹¼çºŒè¼¸å…¥æ–°ä¸»é¡Œé€²è¡Œä¸‹ä¸€è¼ªç ”ç©¶
   - è¼¸å…¥ã€Œé›¢é–‹ã€æˆ–ã€Œquitã€çµæŸç¨‹å¼ä¸¦è‡ªå‹•å„²å­˜æ‰€æœ‰çµæœ

### åŸºæœ¬æ“ä½œæµç¨‹ï¼ˆREST API ç‰ˆæœ¬ï¼‰

1. **å•Ÿå‹•ç¨‹å¼**ï¼šåŸ·è¡Œ `uv run python main_rest_api.py`

2. **è¼¸å…¥ç ”ç©¶ä¸»é¡Œ**ï¼šæ ¹æ“šæç¤ºè¼¸å…¥æ‚¨è¦ç ”ç©¶çš„ä¸»é¡Œ
   ```
   è«‹è¼¸å…¥ç ”ç©¶ä¸»é¡Œ: ç ”ç©¶å¾®è»Ÿ Ignite 2025 åœ¨ AI Agent ç›¸é—œæŠ€è¡“çš„ä¸‰å¤§äº®é»
   ```

3. **é¸æ“‡åŸ·è¡Œæ¨¡å¼**ï¼š
   ```
   æ˜¯å¦ä½¿ç”¨èƒŒæ™¯æ¨¡å¼ï¼Ÿï¼ˆå»ºè­°ç”¨æ–¼é•·æ™‚é–“ç ”ç©¶ä»»å‹™ï¼‰
   è¼¸å…¥ 'y' æˆ– 'yes' ä½¿ç”¨èƒŒæ™¯æ¨¡å¼ï¼Œå…¶ä»–å‰‡ç‚ºä¸€èˆ¬æ¨¡å¼:
   ```
   - **ä¸€èˆ¬æ¨¡å¼**ï¼šåŒæ­¥ç­‰å¾…çµæœï¼ˆé©åˆå¿«é€Ÿç ”ç©¶ï¼‰
   - **èƒŒæ™¯æ¨¡å¼**ï¼šéåŒæ­¥åŸ·è¡Œï¼Œç³»çµ±æœƒå®šæœŸè¼ªè©¢ç‹€æ…‹ï¼ˆé©åˆé•·æ™‚é–“ç ”ç©¶ï¼‰

4. **å¯©æ ¸ç ”ç©¶è¨ˆç•«**ï¼šç³»çµ±æœƒå…ˆç”¢ç”Ÿç ”ç©¶è¨ˆç•«èˆ‡æœå°‹é—œéµå­—
   - è¼¸å…¥ã€Œç¢ºèªã€æˆ–ã€ŒOKã€ï¼šç¹¼çºŒåŸ·è¡Œæ·±åº¦ç ”ç©¶
   - è¼¸å…¥ä¿®æ”¹å»ºè­°ï¼šç³»çµ±æœƒæ ¹æ“šå›é¥‹èª¿æ•´è¨ˆç•«
   - è¼¸å…¥ã€Œå–æ¶ˆã€ï¼šæ”¾æ£„æœ¬æ¬¡ç ”ç©¶

5. **åŸ·è¡Œæ·±åº¦ç ”ç©¶**ï¼š
   - **ä¸€èˆ¬æ¨¡å¼**ï¼šç­‰å¾… API å›æ‡‰ï¼ˆæœ€å¤š 30 åˆ†é˜ï¼‰
   - **èƒŒæ™¯æ¨¡å¼**ï¼šç³»çµ±æ¯ 10 ç§’æŸ¥è©¢ä¸€æ¬¡ç‹€æ…‹ï¼Œç›´åˆ°å®Œæˆ

6. **æŸ¥çœ‹çµæœèˆ‡æ—¥èªŒ**ï¼š
   - ç ”ç©¶çµæœæœƒé¡¯ç¤ºåœ¨çµ‚ç«¯
   - å®Œæ•´çš„ API å›æ‡‰è¨˜éŒ„åœ¨ `logs/session_YYYYMMDD_HHMMSS.json`
   - å¯æª¢è¦–æ‰€æœ‰ Web Search æŸ¥è©¢èˆ‡ä¾†æºé€£çµ

7. **ç¹¼çºŒæˆ–çµæŸ**ï¼š
   - ç¹¼çºŒè¼¸å…¥æ–°ä¸»é¡Œé€²è¡Œä¸‹ä¸€è¼ªç ”ç©¶
   - è¼¸å…¥ã€Œé›¢é–‹ã€æˆ–ã€Œquitã€çµæŸç¨‹å¼ä¸¦è‡ªå‹•å„²å­˜æ‰€æœ‰çµæœ

### è¼¸å‡ºæª”æ¡ˆæ ¼å¼

ç³»çµ±æœƒåœ¨ `output/` è³‡æ–™å¤¾ä¸­ç”¢ç”Ÿç ”ç©¶å ±å‘Šï¼š

- **Session å ±å‘Š**ï¼š`o3-deep-research-session_YYYYMMDD_HHMMSS.md`
  - åŒ…å«æœ¬æ¬¡åŸ·è¡Œçš„æ‰€æœ‰ç ”ç©¶
  - è¨˜éŒ„æ¯ç­†ç ”ç©¶çš„è¨ˆç•«ã€çµæœèˆ‡åŸ·è¡Œæ™‚é–“

- **å–®æ¬¡ç ”ç©¶å ±å‘Š**ï¼š`o3-deep-research-result_*.md`
  - å€‹åˆ¥ç ”ç©¶ä¸»é¡Œçš„è©³ç´°åˆ†æ
  - åŒ…å«å¼•ç”¨ä¾†æºèˆ‡ Timestamp

- **Azure OpenAI O3 Deep Research Model**ï¼šæä¾› Deep Research èˆ‡æ¨ç†èƒ½åŠ›
**SDK ç‰ˆæœ¬ (main.py)**ï¼š
```python
ResearchSession (é¡åˆ¥)
â”œâ”€â”€ __init__()              # åˆå§‹åŒ– OpenAI Client
â”œâ”€â”€ conduct_research()      # åŸ·è¡Œå®Œæ•´ç ”ç©¶æµç¨‹
â”‚   â”œâ”€â”€ éšæ®µ 1: å»ºç«‹ç ”ç©¶è¨ˆç•«ï¼ˆæ”¯æ´è¿­ä»£ä¿®æ”¹ï¼‰
â”‚   â””â”€â”€ éšæ®µ 2: åŸ·è¡Œ Deep Research
â”œâ”€â”€ log_raw_response()      # è¨˜éŒ„åŸå§‹å›æ‡‰
â”œâ”€â”€ inspect_web_search_queries()  # æª¢æŸ¥ Web Search
â””â”€â”€ save_all_results()      # å„²å­˜æ‰€æœ‰ç ”ç©¶çµæœ
```

**REST API ç‰ˆæœ¬ (main_rest_api.py)**ï¼š
```python
ResearchSession (é¡åˆ¥)
â”œâ”€â”€ __init__()              # åˆå§‹åŒ– API é€£ç·šè³‡è¨Š
â”œâ”€â”€ create_response()       # å‘¼å« REST API å»ºç«‹ç ”ç©¶
â”œâ”€â”€ get_response_status()   # æŸ¥è©¢èƒŒæ™¯ä»»å‹™ç‹€æ…‹
â”œâ”€â”€ wait_for_completion()   # ç­‰å¾…èƒŒæ™¯ä»»å‹™å®Œæˆ
â”œâ”€â”€ conduct_research()      # åŸ·è¡Œå®Œæ•´ç ”ç©¶æµç¨‹
â”‚   â”œâ”€â”€ éšæ®µ 1: å»ºç«‹ç ”ç©¶è¨ˆç•«ï¼ˆæ”¯æ´è¿­ä»£ä¿®æ”¹ï¼‰
â”‚   â””â”€â”€ éšæ®µ 2: åŸ·è¡Œ Deep Researchï¼ˆæ”¯æ´èƒŒæ™¯æ¨¡å¼ï¼‰
â”œâ”€â”€ extract_output_text()   # å¾ JSON æå–æ–‡å­—è¼¸å‡º
â”œâ”€â”€ log_raw_response()      # è¨˜éŒ„åŸå§‹å›æ‡‰åˆ° JSON
â””â”€â”€ inspect_web_search_queries()  # æª¢æŸ¥ Web Search æŸ¥è©¢
```

## ğŸ“Š ä½¿ç”¨ç¯„ä¾‹

### ç¯„ä¾‹ä¸€ï¼šå¾®è»Ÿ Ignite 2025 AI Agent æŠ€è¡“ç ”ç©¶

**è¼¸å…¥ä¸»é¡Œ**ï¼š
```
ç ”ç©¶å¾®è»Ÿ Ignite 2025 åœ¨ AI Agent ç›¸é—œæŠ€è¡“çš„ä¸‰å¤§äº®é»
```

**è¼¸å‡ºå…§å®¹**ï¼š
- Azure AI Foundry èˆ‡ Agent é–‹ç™¼å¹³å°çš„é‡å¤§æ›´æ–°
- Multi-Agent Orchestration èˆ‡å”ä½œæ¡†æ¶
- Autonomous Agents çš„ä¼æ¥­ç´šæ‡‰ç”¨å ´æ™¯
- AI Agent å®‰å…¨æ€§èˆ‡æ²»ç†æ©Ÿåˆ¶
- èˆ‡ GitHub Copilot å’Œ Microsoft 365 çš„æ•´åˆ
- è©³ç´°çš„æŠ€è¡“è¦æ ¼èˆ‡å¯¦ä½œæ¡ˆä¾‹å¼•ç”¨

### ç¯„ä¾‹äºŒï¼šå¸‚å ´è¶¨å‹¢ç ”ç©¶

**è¼¸å…¥ä¸»é¡Œ**ï¼š
```
åˆ†æ 2025 å¹´ AI æ™¶ç‰‡å¸‚å ´ç™¼å±•è¶¨å‹¢èˆ‡ä¸»è¦ç«¶çˆ­è€…
```

**ç ”ç©¶è¨ˆç•«èª¿æ•´**ï¼š
```
ä½¿ç”¨è€…å›é¥‹: è«‹å¢åŠ é‡å°ä¸­åœ‹å¸‚å ´çš„åˆ†æ
ç³»çµ±å›æ‡‰: âœ“ å·²æ ¹æ“šå›é¥‹èª¿æ•´ç ”ç©¶è¨ˆç•«
```

## âš™ï¸ é€²éšè¨­å®š

### ä¿®æ”¹æ¨¡å‹åƒæ•¸ï¼ˆSDK ç‰ˆæœ¬ï¼‰

ç·¨è¼¯ `main.py` ä¸­çš„ `client.responses.create()` åƒæ•¸ï¼š

```python
response = self.client.responses.create(
    model="o3-deep-research",
    tools=[
        {"type": "web_search_preview"},
        {"type": "code_interpreter", "container": {"type": "auto"}}
    ],
    input=research_topic,
    # å¯æ·»åŠ å…¶ä»–åƒæ•¸å¦‚ temperature, max_tokens ç­‰
)
```

### ä¿®æ”¹ REST API åƒæ•¸ï¼ˆREST API ç‰ˆæœ¬ï¼‰

ç·¨è¼¯ `main_rest_api.py` ä¸­çš„ `create_response()` æ–¹æ³•ï¼š

```python
payload = {
    "model": "o3-deep-research",
    "background": background,  # èƒŒæ™¯æ¨¡å¼é–‹é—œ
    "tools": [
        {"type": "web_search_preview"},
        {"type": "code_interpreter", "container": {"type": "auto"}}
    ],
    "input": input_text,
    # å¯æ·»åŠ  max_tool_calls, webhook ç­‰åƒæ•¸
}
```

### èª¿æ•´è¶…æ™‚è¨­å®šï¼ˆREST API ç‰ˆæœ¬ï¼‰

åœ¨ `create_response()` æ–¹æ³•ä¸­ä¿®æ”¹ timeout åƒæ•¸ï¼š

```python
response = requests.post(
    self.base_url,
    headers=headers,
    json=payload,
    timeout=1800  # 30 åˆ†é˜è¶…æ™‚ï¼ˆç§’ï¼‰ï¼Œå¯ä¾éœ€æ±‚èª¿æ•´
)
```

### èª¿æ•´èƒŒæ™¯æ¨¡å¼è¼ªè©¢é–“éš”ï¼ˆREST API ç‰ˆæœ¬ï¼‰

åœ¨ `wait_for_completion()` æ–¹æ³•ä¸­ä¿®æ”¹ï¼š

```python
# ç­‰å¾…ä¸€æ®µæ™‚é–“å¾Œå†æ¬¡æŸ¥è©¢
time.sleep(10)  # é è¨­ 10 ç§’ï¼Œå¯èª¿æ•´ç‚º 5-30 ç§’
```

### è‡ªè¨‚è¼¸å‡ºæ ¼å¼

ä¿®æ”¹ `save_all_results()` æ–¹æ³•ä¸­çš„ Markdown æ ¼å¼ï¼š

```python
f.write(f"# O3 Deep Research Session Report\n\n")
# æ ¹æ“šéœ€æ±‚èª¿æ•´æ¨™é¡Œã€æ®µè½èˆ‡æ ¼å¼
```

## ğŸ”’ å®‰å…¨æ€§æ³¨æ„äº‹é …

1. **ä¿è­· API Key**ï¼š
   - çµ•å°ä¸è¦å°‡ `.env` æª”æ¡ˆæäº¤åˆ° Version Control System
   - å»ºè­°å°‡ `.env` åŠ å…¥ `.gitignore`

2. **ç’°å¢ƒè®Šæ•¸ç®¡ç†**ï¼š
   ```bash
   # .gitignore ç¯„ä¾‹
   .env
   .venv/
   *.egg-info/
   __pycache__/
   ```

3. **é‡‘é‘°è¼ªæ›¿**ï¼šå®šæœŸæ›´æ–° Azure OpenAI API Key

## ğŸ“ å°ˆæ¡ˆé…ç½®æª”æ¡ˆèªªæ˜

### pyproject.toml

```toml
[project]
name = "o3-deep-research-with-bing-search"
version = "0.1.0"
description = "O3 Deep Research with Bing Search using Azure OpenAI"
authors = [
    {name = "Yu-Hong Lin", email = "your.email@example.com"}
]
requires-python = ">=3.8"
dependencies = [
    "openai>=1.0.0",
    "python-dotenv>=1.0.0",
]

[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"
```

## ğŸ› ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

**Q1: åŸ·è¡Œæ™‚å‡ºç¾ `ModuleNotFoundError: No module named 'openai'`**

A: è«‹ç¢ºèªå·²åŸ·è¡Œ `uv sync` å®‰è£ç›¸ä¾å¥—ä»¶ï¼Œä¸¦ä½¿ç”¨ `uv run python main.py` åŸ·è¡Œç¨‹å¼ã€‚

**Q2: API å‘¼å«å¤±æ•—ï¼Œå‡ºç¾ `Authentication Error`**

A: è«‹æª¢æŸ¥ `.env` æª”æ¡ˆä¸­çš„ `AZURE_OPENAI_API_KEY` èˆ‡ `AZURE_OPENAI_ENDPOINT` æ˜¯å¦æ­£ç¢ºã€‚

**Q3: ç ”ç©¶åŸ·è¡Œæ™‚é–“éé•·**

A: O3 Deep Research æ¨¡å‹åŸ·è¡Œ Deep Research éœ€è¦è¼ƒé•·æ™‚é–“ï¼ˆé€šå¸¸ 1-5 åˆ†é˜ï¼‰ã€‚
- **SDK ç‰ˆæœ¬**ï¼šåŒæ­¥ç­‰å¾…ï¼Œæœ€é•·ç­‰å¾…æ™‚é–“å–æ±ºæ–¼ SDK é è¨­å€¼
- **REST API ç‰ˆæœ¬**ï¼š
  - ä¸€èˆ¬æ¨¡å¼ï¼šæœ€é•·ç­‰å¾… 30 åˆ†é˜
  - èƒŒæ™¯æ¨¡å¼ï¼šå»ºè­°ç”¨æ–¼è¶…é 5 åˆ†é˜çš„ç ”ç©¶ï¼Œå¯é¿å…è¶…æ™‚å•é¡Œ

**Q3-1: å¦‚ä½•é¸æ“‡æ˜¯å¦ä½¿ç”¨èƒŒæ™¯æ¨¡å¼ï¼Ÿ**

A: ä½¿ç”¨ REST API ç‰ˆæœ¬æ™‚ï¼š
- é¸æ“‡ã€Œä¸€èˆ¬æ¨¡å¼ã€ï¼šé©åˆé æœŸ 5-10 åˆ†é˜å…§å®Œæˆçš„ç ”ç©¶
- é¸æ“‡ã€ŒèƒŒæ™¯æ¨¡å¼ã€ï¼šé©åˆè¤‡é›œä¸»é¡Œã€éœ€è¦è¶…é 10 åˆ†é˜çš„æ·±åº¦ç ”ç©¶
- èƒŒæ™¯æ¨¡å¼æœƒæ¯ 10 ç§’é¡¯ç¤ºç•¶å‰ç‹€æ…‹ï¼Œæ–¹ä¾¿è¿½è¹¤é€²åº¦

**Q4: è¼¸å‡ºæª”æ¡ˆä¸­æ–‡é¡¯ç¤ºç‚ºäº‚ç¢¼**

A: ç¢ºä¿ä½¿ç”¨æ”¯æ´ UTF-8 ç·¨ç¢¼çš„æ–‡å­—ç·¨è¼¯å™¨é–‹å•Ÿ Markdown æª”æ¡ˆï¼ˆå¦‚ VS Codeã€Notepad++ï¼‰ã€‚

**Q5: REST API ç‰ˆæœ¬å’Œ SDK ç‰ˆæœ¬å¯ä»¥å…±å­˜å—ï¼Ÿ**

A: å¯ä»¥ï¼å…©å€‹ç‰ˆæœ¬ä½¿ç”¨ç›¸åŒçš„ `.env` é…ç½®å’Œ `output/` è³‡æ–™å¤¾ï¼Œä½†ç”¢ç”Ÿçš„æª”æ¡ˆæœƒæœ‰ä¸åŒçš„æ¨™é¡Œæ¨™è¨˜ã€‚æ‚¨å¯ä»¥æ ¹æ“šéœ€æ±‚é¸æ“‡ä½¿ç”¨å“ªå€‹ç‰ˆæœ¬ã€‚

**Q6: å¦‚ä½•æŸ¥çœ‹ REST API çš„è©³ç´°æ—¥èªŒï¼Ÿ**

A: REST API ç‰ˆæœ¬æœƒåœ¨ `logs/` è³‡æ–™å¤¾ä¸­ç”¢ç”Ÿ JSON æ ¼å¼çš„å®Œæ•´æ—¥èªŒï¼ŒåŒ…å«ï¼š
- æ¯å€‹ API è«‹æ±‚çš„å®Œæ•´å…§å®¹
- æ¯å€‹ API å›æ‡‰çš„å®Œæ•´ JSON
- æ‰€æœ‰ Web Search æŸ¥è©¢è¨˜éŒ„
- æ™‚é–“æˆ³è¨˜èˆ‡éšæ®µæ¨™è¨˜

é€™äº›æ—¥èªŒå¯ç”¨æ–¼é™¤éŒ¯å’Œåˆ†æ API å‘¼å«ç´°ç¯€ã€‚

## ğŸ“š åƒè€ƒè³‡æº

### å®˜æ–¹æ–‡ä»¶

- [Web search with the Responses API - Microsoft Foundry | Microsoft Learn](https://learn.microsoft.com/en-us/azure/ai-foundry/openai/how-to/web-search?view=foundry-classic)
- [Deep research with the Responses API - Microsoft Foundry | Microsoft Learn](https://learn.microsoft.com/en-us/azure/ai-foundry/openai/how-to/deep-research?view=foundry-classic#best-practices)
- [Why we built the Responses API | OpenAI](https://developers.openai.com/blog/responses-api/)
- [Azure-Samples/deepresearch | Github](https://github.com/Azure-Samples/deepresearch/)

---

**æœ€å¾Œæ›´æ–°**: 2025-11-22
